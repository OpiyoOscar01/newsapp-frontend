import React, { useCallback, useMemo } from "react";
import { Helmet } from "react-helmet-async";
import { HiTrendingUp } from "react-icons/hi";
import { BsNewspaper, BsStars, BsArrowRight, BsClock, BsEye, BsPlay, BsGlobe } from "react-icons/bs";
import NewsCardDemo from "../../news/pages/NewsCardDemo";

/** Interfaces */
interface FeaturedCard {
  id: string;
  title: string;
  description: string;
  icon: React.ReactElement;
  category: string;
  readTime?: string;
  views?: string;
  href: string;
  priority: "high" | "medium" | "low";
  backgroundImage: string;
}

interface NewsStats {
  totalArticles: number;
  dailyReaders: number;
  categories: number;
}

interface TickerItem {
  id: string;
  type: "LIVE" | "URGENT" | "BREAKING";
  content: string;
  icon?: React.ReactElement;
}

const Home: React.FC = () => {
  const featuredContent: FeaturedCard[] = useMemo(() => [
    {
      id: "breaking-news",
      title: "Breaking News",
      description:
        "Stay ahead with real-time updates and breaking news from around the globe.",
      icon: <BsNewspaper className="text-lg sm:text-xl lg:text-2xl text-white" aria-hidden="true" />,
      category: "News",
      readTime: "2 min read",
      views: "12.5k",
      href: "/breaking",
      priority: "high",
      backgroundImage: "https://images.pexels.com/photos/10464472/pexels-photo-10464472.jpeg?auto=compress&cs=tinysrgb&w=800",
    },
    {
      id: "trending-stories",
      title: "Trending Stories",
      description:
        "Discover what's capturing global attention with expert commentary.",
      icon: <HiTrendingUp className="text-lg sm:text-xl lg:text-2xl text-white" aria-hidden="true" />,
      category: "Trending",
      readTime: "4 min read",
      views: "8.3k",
      href: "/trending",
      priority: "high",
      backgroundImage: "https://images.pexels.com/photos/3184292/pexels-photo-3184292.jpeg?auto=compress&cs=tinysrgb&w=800",
    },
    {
      id: "featured-analysis",
      title: "Featured Analysis",
      description:
        "In-depth investigative reports and expert analysis on key stories.",
      icon: <BsStars className="text-lg sm:text-xl lg:text-2xl text-white" aria-hidden="true" />,
      category: "Analysis",
      readTime: "8 min read",
      views: "15.7k",
      href: "/analysis",
      priority: "medium",
      backgroundImage: "https://images.pexels.com/photos/10653886/pexels-photo-10653886.jpeg?auto=compress&cs=tinysrgb&w=800",
    },
  ], []);

  const tickerItems: TickerItem[] = useMemo(() => [
    {
      id: "market-update",
      type: "LIVE",
      content: "Market Update: Global indices show strong performance amid economic recovery"
    },
    {
      id: "climate-summit",
      type: "BREAKING",
      content: "Breaking: International summit addresses climate change initiatives",
      icon: <BsGlobe className="mr-1 sm:mr-2" />
    },
    {
      id: "tech-growth",
      type: "URGENT",
      content: "Technology sector sees unprecedented growth in AI development"
    }
  ], []);

  const newsStats: NewsStats = useMemo(() => ({
    totalArticles: 25847,
    dailyReaders: 142000,
    categories: 12,
  }), []);

  const categories = useMemo(() => [
    "Politics", "Business", "Technology", "Sports", "World", "Health"
  ], []);

  const handleCardClick = useCallback((href: string) => {
    // Replace with navigate() in production
    console.log(`Navigating to: ${href}`);
  }, []);

  const handleButtonClick = useCallback((action: string) => {
    console.log(`${action} clicked`);
  }, []);

  const handleKeyDown = useCallback((e: React.KeyboardEvent, href: string) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      handleCardClick(href);
    }
  }, [handleCardClick]);

  const formatNumber = useCallback((num: number): string => {
    if (num >= 1_000_000) {
      return `${(num / 1_000_000).toFixed(1)}M`;
    }
    if (num >= 1000) {
      return `${(num / 1000).toFixed(1)}k`;
    }
    return num.toString();
  }, []);

  const getBadgeColor = useCallback((type: TickerItem['type']): string => {
    switch (type) {
      case 'LIVE':
        return 'bg-white text-blue-600';
      case 'URGENT':
        return 'bg-red-500 text-white';
      case 'BREAKING':
        return 'bg-yellow-500 text-black';
      default:
        return 'bg-white text-blue-600';
    }
  }, []);

  return (
    <>
      <Helmet>
        <title>DefinePress - Your Premier News Source</title>
        <meta
          name="description"
          content="DefinePress delivers breaking news, in-depth analysis, and trending stories from politics, technology, sports, and business."
        />
        <link rel="canonical" href="https://definepress.com" />
      </Helmet>

      <main className="min-h-screen bg-white">
        {/* Hero Section with Blue Theme */}
        <section 
          className="relative py-16 sm:py-20 lg:py-32 text-center overflow-hidden"
          style={{
            backgroundImage: `linear-gradient(135deg, rgba(30,64,175,0.9) 0%, rgba(59,130,246,0.8) 50%, rgba(96,165,250,0.7) 100%), url('https://images.pexels.com/photos/15920138/pexels-photo-15920138.jpeg?auto=compress&cs=tinysrgb&w=1600')`,
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundAttachment: window.innerWidth > 768 ? 'fixed' : 'scroll'
          }}
        >
          Animated overlay
          <div className="absolute inset-0 bg-gradient-to-br from-blue-900/20 via-transparent to-indigo-900/20 animate-pulse" />
          
          {/* Breaking news ticker - Blue theme */}
          {/* <div className="absolute top-0 left-0 w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-1 sm:py-2 overflow-hidden shadow-lg">
            <div className="animate-marquee whitespace-nowrap flex items-center text-xs sm:text-sm">
              {tickerItems.map((item) => (
                <span key={item.id} className="mx-4 sm:mx-8 flex items-center">
                  <span className={`${getBadgeColor(item.type)} px-1 sm:px-2 py-0.5 sm:py-1 text-xs font-bold rounded mr-2 sm:mr-3`}>
                    {item.type}
                  </span>
                  {item.icon}
                  <span className="truncate max-w-xs sm:max-w-none">{item.content}</span>
                </span>
              ))}
            </div>
          </div> */}

          {/* <div className="container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl relative z-10 mt-8 sm:mt-12">
            <div className="bg-white/10 backdrop-blur-md rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 border border-white/20 mx-auto max-w-5xl">
              <h1 className="text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-black text-white mb-4 sm:mb-6 leading-tight tracking-tight">
                Welcome to{" "}
                <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-cyan-300 to-sky-300 animate-gradient-x block sm:inline">
                  DefinePress
                </span>
              </h1>
              <p className="text-base sm:text-lg md:text-xl lg:text-2xl text-white/90 mb-8 sm:mb-12 leading-relaxed font-light max-w-4xl mx-auto">
                Your trusted destination for breaking news, insightful analysis, and the stories that shape our world.
              </p>

              <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mb-6 sm:mb-8 max-w-3xl mx-auto">
                <div className="text-center bg-white/10 rounded-lg sm:rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-blue-300/30">
                  <div className="text-2xl sm:text-3xl lg:text-4xl font-bold text-cyan-300">
                    {formatNumber(newsStats.totalArticles)}+
                  </div>
                  <div className="text-xs sm:text-sm text-white/80 uppercase tracking-wide font-medium">
                    Articles Published
                  </div>
                </div>
                <div className="text-center bg-white/10 rounded-lg sm:rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-blue-300/30">
                  <div className="text-2xl sm:text-3xl lg:text-4xl font-bold text-sky-300">
                    {formatNumber(newsStats.dailyReaders)}+
                  </div>
                  <div className="text-xs sm:text-sm text-white/80 uppercase tracking-wide font-medium">
                    Daily Readers
                  </div>
                </div>
                <div className="text-center bg-white/10 rounded-lg sm:rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-blue-300/30">
                  <div className="text-2xl sm:text-3xl lg:text-4xl font-bold text-blue-300">
                    {newsStats.categories}
                  </div>
                  <div className="text-xs sm:text-sm text-white/80 uppercase tracking-wide font-medium">
                    Categories
                  </div>
                </div>
              </div>

              <button
                type="button"
                className="inline-flex items-center gap-2 sm:gap-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-bold px-6 sm:px-8 lg:px-10 py-3 sm:py-4 rounded-full hover:from-blue-700 hover:to-blue-800 transition-all duration-300 transform hover:scale-105 shadow-2xl border-2 border-blue-500 text-sm sm:text-base"
                onClick={() => handleButtonClick('Watch Live')}
              >
                <BsPlay className="text-sm sm:text-lg" />
                Watch Live
              </button>
            </div>
          </div> */}
        </section>

        {/* Featured Content Section - Blue Theme */}
        <section className="py-12 sm:py-16 lg:py-20 xl:py-24 bg-gradient-to-br from-slate-50 to-blue-50">
          <div className="container mx-auto px-4 sm:px-6 lg:px-8">
            <div className="text-center mb-12 sm:mb-16">
              <div className="inline-flex items-center bg-gradient-to-r from-blue-600 to-blue-700 text-white px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-semibold mb-4">
                <span className="w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white rounded-full mr-2 animate-pulse" />
                FEATURED CONTENT
              </div>
              <h2 className="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black text-gray-900 mb-4 sm:mb-6">
                Latest Headlines
              </h2>
              <p className="text-base sm:text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
                Explore our curated selection of breaking news, trending stories, and expert analysis from around the world.
              </p>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
              {featuredContent.map((card, index) => (
                <article
                  key={card.id}
                  className="group relative bg-white rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-1 sm:hover:-translate-y-3 cursor-pointer overflow-hidden border-l-4 border-blue-600"
                  onClick={() => handleCardClick(card.href)}
                  role="button"
                  tabIndex={0}
                  onKeyDown={(e) => handleKeyDown(e, card.href)}
                  style={{ animationDelay: `${index * 200}ms` }}
                >
                  {/* Background Image Overlay */}
                  <div 
                    className="absolute inset-0 bg-cover bg-center opacity-20 group-hover:opacity-30 transition-opacity duration-500"
                    style={{ backgroundImage: `url(${card.backgroundImage})` }}
                  />
                  
                  {/* Content */}
                  <div className="relative p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-white via-white to-blue-50/30">
                    <div className="flex items-center justify-between mb-4 sm:mb-6">
                      <div className="p-2.5 sm:p-3 lg:p-4 rounded-xl sm:rounded-2xl bg-gradient-to-br from-blue-600 to-blue-700 group-hover:from-blue-700 group-hover:to-blue-800 transition-all duration-300 shadow-lg">
                        {card.icon}
                      </div>
                      <span className="text-xs font-bold text-white bg-gradient-to-r from-blue-600 to-blue-700 px-2 sm:px-3 py-1 sm:py-2 rounded-full uppercase tracking-wider">
                        {card.category}
                      </span>
                    </div>

                    <h3 className="text-lg sm:text-xl lg:text-2xl font-black text-gray-900 mb-3 sm:mb-4 group-hover:text-blue-600 transition-colors duration-300 leading-tight">
                      {card.title}
                    </h3>
                    <p className="text-gray-700 mb-6 sm:mb-8 leading-relaxed text-sm sm:text-base">
                      {card.description}
                    </p>

                    <div className="flex items-center justify-between">
                      <div className="flex items-center gap-3 sm:gap-4 lg:gap-6 text-xs sm:text-sm text-gray-500">
                        {card.readTime && (
                          <span className="flex items-center gap-1 sm:gap-2 font-medium">
                            <BsClock className="text-blue-600 text-xs sm:text-sm" />
                            <span className="hidden xs:inline">{card.readTime}</span>
                            <span className="xs:hidden">{card.readTime.split(' ')[0]}m</span>
                          </span>
                        )}
                        {card.views && (
                          <span className="flex items-center gap-1 sm:gap-2 font-medium">
                            <BsEye className="text-blue-600 text-xs sm:text-sm" />
                            {card.views}
                          </span>
                        )}
                      </div>

                      <div className="flex items-center text-blue-600 font-bold group-hover:gap-2 sm:group-hover:gap-3 transition-all duration-300 text-xs sm:text-sm">
                        <span className="hidden sm:inline">Read More</span>
                        <span className="sm:hidden">More</span>
                        <BsArrowRight className="ml-1 sm:ml-2 group-hover:translate-x-1 sm:group-hover:translate-x-2 transition-transform duration-300 text-xs sm:text-sm" />
                      </div>
                    </div>
                  </div>

                  {card.priority === "high" && (
                    <div className="absolute top-3 sm:top-4 right-3 sm:right-4 flex items-center">
                      <span className="bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs px-2 py-1 rounded-full font-bold animate-pulse shadow-lg">
                        LIVE
                      </span>
                    </div>
                  )}
                </article>
              ))}
            </div>
          </div>
        </section>

        {/* Breaking News Banner - Blue Theme */}
        <section className="py-4 sm:py-6 bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 relative overflow-hidden">
          <div className="absolute inset-0 bg-black/10" />
          <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative">
            <div className="flex flex-col sm:flex-row items-center justify-center text-center sm:text-left gap-2 sm:gap-4">
              <div className="bg-white text-blue-600 px-2 sm:px-4 py-1 sm:py-2 rounded-lg font-black text-xs sm:text-sm">
                BREAKING
              </div>
              <p className="text-white text-sm sm:text-base lg:text-lg font-semibold leading-relaxed">
                Market closes at record high as technology stocks surge amid AI innovation wave
              </p>
            </div>
          </div>
        </section>

        {/* Call to Action - Blue Theme */}
        <section 
          className="py-12 sm:py-16 lg:py-20 relative overflow-hidden"
          style={{
            backgroundImage: `linear-gradient(135deg, rgba(30,64,175,0.95) 0%, rgba(59,130,246,0.9) 50%, rgba(96,165,250,0.85) 100%), url('https://images.pexels.com/photos/6829536/pexels-photo-6829536.jpeg?auto=compress&cs=tinysrgb&w=1600')`,
            backgroundSize: 'cover',
            backgroundPosition: 'center'
          }}
        >
          <div className="absolute inset-0 bg-gradient-to-br from-blue-900/30 to-transparent" />
          <div className="container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
            <div className="max-w-5xl mx-auto">
              <h2 className="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black text-white mb-4 sm:mb-6 leading-tight">
                Stay Informed,{" "}
                <span className="text-cyan-300 block sm:inline">Stay Ahead</span>
              </h2>
              <p className="text-base sm:text-lg md:text-xl lg:text-2xl text-white/90 mb-8 sm:mb-12 max-w-4xl mx-auto leading-relaxed">
                Join thousands of readers who trust DefinePress for accurate, timely, and comprehensive news coverage from around the globe.
              </p>
              <div className="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center max-w-2xl mx-auto">
                <button
                  type="button"
                  className="w-full sm:w-auto inline-flex items-center justify-center gap-2 sm:gap-3 bg-white text-blue-600 font-black px-6 sm:px-8 lg:px-10 py-3 sm:py-4 rounded-full hover:bg-blue-50 transition-all duration-300 transform hover:scale-105 shadow-2xl text-sm sm:text-base lg:text-lg"
                  onClick={() => handleButtonClick('Get Started Today')}
                >
                  Get Started Today
                  <BsArrowRight />
                </button>
                <button
                  type="button"
                  className="w-full sm:w-auto inline-flex items-center justify-center gap-2 sm:gap-3 bg-transparent border-2 border-white text-white font-bold px-6 sm:px-8 lg:px-10 py-3 sm:py-4 rounded-full hover:bg-white hover:text-blue-600 transition-all duration-300 shadow-xl text-sm sm:text-base lg:text-lg"
                  onClick={() => handleButtonClick('Watch Live')}
                >
                  <BsPlay />
                  Watch Live
                </button>
              </div>
            </div>
          </div>
        </section>

        {/* News Categories Strip - Blue Theme */}
        <section className="py-3 sm:py-4 bg-gradient-to-r from-slate-800 to-blue-900 text-white overflow-x-auto">
          <div className="container mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex items-center justify-center sm:justify-center space-x-4 sm:space-x-6 lg:space-x-8 text-xs sm:text-sm font-semibold uppercase tracking-wider min-w-max sm:min-w-0">
              {categories.map((category) => (
                <button
                  key={category}
                  type="button"
                  className="hover:text-blue-300 cursor-pointer transition-colors duration-300 whitespace-nowrap"
                  onClick={() => handleButtonClick(`Category: ${category}`)}
                >
                  {category}
                </button>
              ))}
            </div>
          </div>
        </section>
      </main>
                    <NewsCardDemo />


      {/* Custom CSS for animations */}
      <style>{`
        @keyframes marquee {
          0% { transform: translate3d(100%, 0, 0); }
          100% { transform: translate3d(-100%, 0, 0); }
        }
        
        @keyframes gradient-x {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        
        .animate-marquee {
          animation: marquee 30s linear infinite;
        }
        
        .animate-gradient-x {
          background-size: 200% 200%;
          animation: gradient-x 3s ease infinite;
        }
        
        .bg-gradient-to-br {
          background-size: 400% 400%;
        }

        @media (max-width: 640px) {
          .animate-marquee {
            animation: marquee 20s linear infinite;
          }
        }

        /* Custom scrollbar for categories section */
        section::-webkit-scrollbar {
          height: 4px;
        }
        
        section::-webkit-scrollbar-track {
          background: rgba(30,64,175,0.3);
        }
        
        section::-webkit-scrollbar-thumb {
          background: rgba(59,130,246,0.8);
          border-radius: 2px;
        }
      `}</style>
    </>
  );
};

export default Home;
export type { FeaturedCard, NewsStats, TickerItem };
